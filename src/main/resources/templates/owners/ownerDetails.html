{#include fragments/layout.html}

{#body}
<h2>Owner Information</h2>

{#with owner}
<table class="table table-striped">
    <tr>
        <th>Name</th>
        <td><b>{firstName} {lastName}</b></td>
    </tr>
    <tr>
        <th>Address</th>
        <td>{address}</td>
    </tr>
    <tr>
        <th>City</th>
        <td>{city}</td>
    </tr>
    <tr>
        <th>Telephone</th>
        <td>{telephone}</td>
    </tr>
</table>
{/with}

<a href="/owners/{owner.id}/edit" class="btn btn-default">Edit Owner</a>
<a href="/pets/new&id={owner.id}" class="btn btn-default">Add New Pet</a>

<br />
<br />
<br />
<h2>Pets and Visits</h2>

<table class="table table-striped">

    {#for pet in owner.pets}
    <tr>
        <td valign="top">
            <dl class="dl-horizontal">
                <dt>Name</dt>
                <dd>{pet.name}</dd>
                <dt>Birth Date</dt>
                <dd>calendars.format(pet.birthDate, 'yyyy-MM-dd')</dd>
                <dt>Type</dt>
                <dd>{pet.type}</dd>
            </dl>
        </td>
        <td valign="top">
            <table class="table-condensed">
                <thead>
                <tr>
                    <th>Visit Date</th>
                    <th>Description</th>
                </tr>
                </thead>
                {#for visit in pet.visits}
                <tr>
                    <td>calendars.format(visit.date, 'yyyy-MM-dd')</td>
                    <td>{visit.description}</td>
                </tr>
                <tr>
                    <td><a href="{ownerId}/pets/{petId}/edit&ownerId={owner.id}&petId={pet.id}">Edit Pet</a></td>
                    <td><a href="{ownerId}/pets/{petId}/visits/new&ownerId={owner.id}&petId={pet.id}">Add Visit</a></td>
                </tr>
                {/for}
            </table>
        </td>
    </tr>
    {/for}

</table>
{/body}

{/include}